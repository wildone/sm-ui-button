<link rel="import" href="../polymer/polymer.html"> <link rel="import" href="../iron-icon/iron-icon.html"> <link rel="import" href="../sm-ui-core/sm-ui-core.html"> <link rel="import" href="../object-assign/object-assign.html"> <link rel="import" href="../paper-spinner/paper-spinner-lite.html"> <link rel="import" href="../spinkit-element/spinkit-element.html"> <dom-module id="sm-ui-button"> <style include="sm-css-shady"></style> <style include="sm-css"></style> <style>:root{--spinkit-element-color:white}:host{font:inherit;color:inherit;line-height:normal;background:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;border:0;padding:0;outline:0;@apply(--typography);position:relative;height:var(--tool-size);cursor:pointer}:host::-moz-focus-inner{border:0;padding:0}:host([busy]),:host([disabled]){cursor:default;pointer-events:none}.wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;line-height:1.2}.busy{width:0;-webkit-transition:width 180ms cubic-bezier(.215,.61,.355,1);transition:width 180ms cubic-bezier(.215,.61,.355,1)}.busy[data-active]{width:1.1em;-webkit-transition:width .2s cubic-bezier(.175,.885,.32,1.275);transition:width .2s cubic-bezier(.175,.885,.32,1.275)}.busy__spinner{position:absolute;left:.8em;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:1.1em;width:1.1em}.icon{--iron-icon-width:var(--icon-size, 1em);--iron-icon-height:var(--icon-size, 1em);margin-right:.3em}.icon[no-content]{margin:0}</style> <template> <div class="wrapper"> <div class="busy" id="busy" data-active$="[[busy]]"> <spinkit-element class="busy__spinner" name="fading-circle" alt="Busy" active="[[busy]]"> </spinkit-element> </div> <iron-icon class="icon" icon="[[icon]]" no-content$="[[!_content]]" hidden$="[[!icon]]"> </iron-icon> <content></content> </div> </template> <script>!function(){"use strict";var e={};e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var t=function(){function t(){e.classCallCheck(this,t)}return e.createClass(t,[{key:"beforeRegister",value:function(){this.is="sm-ui-button",this["extends"]="button",this.properties={icon:{type:String,value:""},active:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},busy:{type:Boolean,observer:"_busyChanged",reflectToAttribute:!0},_content:{type:String,value:""}}}},{key:"_busyChanged",value:function(e){e&&(this.customStyle["--spinkit-element-color"]=getComputedStyle(this).color,this.updateStyles())}},{key:"attached",value:function(){this._content=Polymer.dom(this).innerHTML.trim()}}]),t}();Polymer(t)}()</script> </dom-module>